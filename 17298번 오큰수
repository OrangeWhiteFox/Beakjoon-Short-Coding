'''
파이썬 122자
대표적인 스택 활용문제
'''
input()
l=input().split()
L,*x=[-1], #x는 빈 리스트가 생성된다
while l: 
 k=int(l.pop()) #l을 pop해서 정수로 변환
 while 0<L[-1]<=k:L.pop() #L에는 0번째 위치의 -1을 제외하고 수가 내림차순으로 정렬된다
 L+=[k];x+=[L[-2]] #L에 [k]를 넣고, k보다 작은 수를 위 while문에서 지웠으므로, L[-2]는 오큰수가 된다
print(*x[::-1]) #뒤에서부터 연산했으니 뒤집어서 출력
